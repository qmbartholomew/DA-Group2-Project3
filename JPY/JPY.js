let list = [
    {
      " Open": 157.21,
      " High": 157.44,
      " Low": 157.19,
      " Close": 157.40,
      "Date": "01/01/25"
    },
    {
      " Open": 156.84,
      " High": 157.55,
      " Low": 156.03,
      " Close": 157.21,
      "Date": "12/31/24"
    },
    {
      " Open": 157.87,
      " High": 158.08,
      " Low": 156.67,
      " Close": 156.84,
      "Date": "12/30/24"
    },
    {
      " Open": 158.00,
      " High": 158.00,
      " Low": 157.35,
      " Close": 157.84,
      "Date": "12/27/24"
    },
    {
      " Open": 157.19,
      " High": 158.09,
      " Low": 157.08,
      " Close": 158.00,
      "Date": "12/26/24"
    },
    {
      " Open": 157.16,
      " High": 157.38,
      " Low": 157.05,
      " Close": 157.20,
      "Date": "12/25/24"
    },
    {
      " Open": 157.18,
      " High": 157.44,
      " Low": 156.89,
      " Close": 157.17,
      "Date": "12/24/24"
    },
    {
      " Open": 156.46,
      " High": 157.28,
      " Low": 156.34,
      " Close": 157.17,
      "Date": "12/23/24"
    },
    {
      " Open": 157.43,
      " High": 157.93,
      " Low": 155.95,
      " Close": 156.41,
      "Date": "12/20/24"
    },
    {
      " Open": 154.79,
      " High": 157.80,
      " Low": 154.44,
      " Close": 157.44,
      "Date": "12/19/24"
    },
    {
      " Open": 153.44,
      " High": 154.86,
      " Low": 153.34,
      " Close": 154.84,
      "Date": "12/18/24"
    },
    {
      " Open": 154.14,
      " High": 154.34,
      " Low": 153.16,
      " Close": 153.50,
      "Date": "12/17/24"
    },
    {
      " Open": 153.75,
      " High": 154.48,
      " Low": 153.32,
      " Close": 154.15,
      "Date": "12/16/24"
    },
    {
      " Open": 152.64,
      " High": 153.80,
      " Low": 152.47,
      " Close": 153.70,
      "Date": "12/13/24"
    },
    {
      " Open": 152.46,
      " High": 152.77,
      " Low": 151.81,
      " Close": 152.64,
      "Date": "12/12/24"
    },
    {
      " Open": 151.95,
      " High": 152.81,
      " Low": 151.03,
      " Close": 152.47,
      "Date": "12/11/24"
    },
    {
      " Open": 151.19,
      " High": 152.17,
      " Low": 150.90,
      " Close": 151.97,
      "Date": "12/10/24"
    },
    {
      " Open": 149.97,
      " High": 151.35,
      " Low": 149.69,
      " Close": 151.22,
      "Date": "12/09/24"
    },
    {
      " Open": 150.10,
      " High": 150.70,
      " Low": 149.37,
      " Close": 150.01,
      "Date": "12/06/24"
    },
    {
      " Open": 150.62,
      " High":  150.76,
      " Low": 149.66,
      " Close": 150.11,
      "Date": "12/05/24"
    },
    {
      " Open": 149.59,
      " High": 151.24,
      " Low": 149.53,
      " Close": 150.62,
      "Date": "12/04/24"
    },
    {
      " Open": 149.59,
      " High": 150.22,
      " Low": 148.65,
      " Close": 149.59,
      "Date": "12/03/24"
    },
    {
      " Open": 149.75,
      " High": 150.75,
      " Low": 149.08,
      " Close": 149.59,
      "Date": "12/02/24"
    },
    {
      " Open": 151.55,
      " High": 151.71,
      " Low": 149.47,
      " Close": 149.75,
      "Date": "11/29/24"
    },
    {
      " Open": 151.11,
      " High": 151.96,
      " Low": 150.93,
      " Close": 151.55,
      "Date": "11/28/24"
    },
    {
      " Open": 153.08,
      " High": 153.23,
      " Low": 150.46,
      " Close": 151.12,
      "Date": "11/27/24"
    },
    {
      " Open": 154.20,
      " High": 154.50,
      " Low": 153.00,
      " Close": 153.11,
      "Date": "11/26/24"
    },
    {
      " Open": 154.77,
      " High": 154.77,
      " Low": 153.55,
      " Close": 154.19,
      "Date": "11/25/24"
    },
    {
      " Open": 154.54,
      " High": 155.03,
      " Low": 153.98,
      " Close": 154.76,
      "Date": "11/22/24"
    },
    {
      " Open": 155.43,
      " High": 155.45,
      " Low": 153.91,
      " Close": 154.54,
      "Date": "11/21/24"
    },
    {
      " Open": 154.66,
      " High": 155.89,
      " Low": 154.53,
      " Close": 155.43,
      "Date": "11/20/24"
    },
    {
      " Open": 154.67,
      " High": 154.80,
      " Low": 153.28,
      " Close": 154.66,
      "Date": "11/19/24"
    },
    {
      " Open": 154.34,
      " High": 155.36,
      " Low": 153.85,
      "Close": 154.68,
      "Date": "11/18/24"
    },
    {
      " Open": 156.27,
      " High": 156.75,
      " Low": 153.86,
      " Close": 154.34,
      "Date": "11/15/24"
    },
    {
      " Open": 155.47,
      " High": 156.42,
      " Low": 155.35,
      " Close": 156.27,
      "Date": "11/14/24"
    },
    {
      " Open": 154.62,
      " High": 155.63,
      " Low": 154.34,
      " Close": 155.49,
      "Date": "11/13/24"
    },
    {
      " Open": 153.72,
      " High": 154.92,
      " Low": 153.41,
      " Close": 154.62,
      "Date": "11/12/24"
    },
    {
      " Open": 152.65,
      " High": 153.96,
      " Low": 152.64,
      " Close": 153.72,
      "Date": "11/11/24"
    },
    {
      " Open": 152.94,
      " High": 153.37,
      " Low": 152.15,
      " Close": 152.63,
      "Date": "11/08/24"
    },
    {
      " Open": 154.62,
      " High": 154.70,
      " Low": 152.70,
      " Close": 152.94,
      "Date": "11/07/24"
    },
    {
      " Open": 151.62,
      " High": 154.72,
      " Low": 151.31,
      " Close": 154.64,
      "Date": "11/06/24"
    },
    {
      " Open": 152.09,
      " High": 152.57,
      " Low": 151.34,
      " Close": 151.62,
      "Date": "11/05/24"
    },
    {
      " Open": 153.03,
      " High": 153.03,
      " Low": 151.54,
      " Close": 152.13,
      "Date": "11/04/24"
    },
    {
      " Open": 152.03,
      " High": 153.10,
      " Low": 151.78,
      " Close": 152.99,
      "Date": "11/01/24"
    },
    {
      " Open": 153.41,
      " High": 153.58,
      " Low": 151.84,
      " Close": 152.03,
      "Date": "10/31/24"
    },
    {
      " Open": 153.36,
      " High": 153.56,
      " Low": 152.79,
      " Close": 153.42,
      "Date": "10/30/24"
    },
    {
      " Open": 153.28,
      " High": 153.87,
      " Low": 152.76,
      " Close": 153.37,
      "Date": "10/29/24"
    },
    {
      " Open": 152.28,
      " High": 153.88,
      " Low": 152.28,
      " Close": 153.28,
      "Date": "10/28/24"
    },
    {
      " Open": 151.83,
      " High": 152.38,
      " Low": 151.45,
      " Close": 152.30,
      "Date": "10/25/24"
    },
    {
      " Open": 152.68,
      " High": 152.84,
      " Low": 151.56,
      " Close": 151.84,
      "Date": "10/24/24"
    },
    {
      " Open": 151.08,
      " High": 153.19,
      " Low": 151.02,
      " Close": 152.76,
      "Date": "10/23/24"
    },
    {
      " Open": 150.82,
      " High": 151.20,
      " Low": 150.50,
      " Close": 151.09,
      "Date": "10/22/24"
    },
    {
      " Open": 149.56,
      " High": 150.89,
      " Low": 149.09,
      " Close": 150.84,
      "Date": "10/21/24"
    },
    {
      " Open": 150.21,
      " High": 150.28,
      " Low": 149.37,
      " Close": 149.53,
      "Date": "10/18/24"
    },
    {
      " Open": 149.64,
      " High": 150.31,
      " Low": 149.26,
      " Close": 150.21,
      "Date": "10/17/24"
    },
    {
      " Open": 149.21,
      " High": 149.81,
      " Low": 148.89,
      " Close": 149.64,
      "Date": "10/16/24"
    },
    {
      " Open": 149.82,
      " High": 149.84,
      " Low": 148.85,
      " Close": 149.22,
      "Date": "10/15/24"
    },
    {
      " Open": 149.15,
      " High": 149.99,
      " Low": 149.00,
      " Close": 149.76,
      "Date": "10/14/24"
    },
    {
      " Open": 148.57,
      " High": 149.29,
      " Low": 148.41,
      " Close": 149.14,
      "Date": "10/11/24"
    },
    {
      " Open": 149.31,
      " High": 149.59,
      " Low": 148.38,
      " Close": 148.57,
      "Date": "10/10/24"
    },
    {
      " Open": 148.20,
      " High": 149.37,
      " Low": 148.01,
      " Close": 149.31,
      "Date": "10/09/24"
    },
    {
      " Open": 148.16,
      " High": 148.38,
      " Low": 147.35,
      " Close": 148.20,
      "Date": "10/08/24"
    },
    {
      " Open": 148.72,
      " High": 149.13,
      " Low": 147.86,
      " Close": 148.18,
      "Date": "10/07/24"
    },
    {
      " Open": 146.94,
      " High": 149.00,
      " Low": 145.93,
      " Close": 148.72,
      "Date": "10/04/24"
    },
    {
      " Open": 146.41,
      " High": 147.24,
      " Low": 146.24,
      " Close": 146.95,
      "Date": "10/03/24"
    },
    {
      " Open": 143.57,
      " High": 146.51,
      " Low": 143.43,
      " Close": 146.46,
      "Date": "10/02/24"
    },
    {
      " Open": 143.64,
      " High": 144.53,
      " Low": 142.98,
      " Close": 143.56,
      "Date": "10/01/24"
    },
    {
      " Open": 142.16,
      " High": 143.94,
      " Low": 141.66,
      " Close": 143.63,
      "Date": "09/30/24"
    },
    {
      " Open": 144.82,
      " High": 146.50,
      " Low": 142.07,
      " Close": 142.14,
      "Date": "09/27/24"
    },
    {
      " Open": 144.76,
      " High": 145.20,
      " Low": 144.11,
      " Close": 144.81,
      "Date": "09/26/24"
    },
    {
      " Open": 143.24,
      " High": 144.84,
      " Low": 142.91,
      " Close": 144.75,
      "Date": "09/25/24"
    },
    {
      " Open": 143.61,
      " High": 144.68,
      " Low": 143.12,
      " Close": 143.23,
      "Date": "09/24/24"
    }
  ];
  
  
  // Format it to remove extra spaces and extract only what we need
  let data = list.map(d => ({
    date: d.Date,
    price: d[" Close"]
  }));
  
  // Sort by date (oldest to newest)
  data.sort((a, b) => new Date(a.date) - new Date(b.date));
  
  // Moving Average calculator
  function calculateMA(data, period) {
    let ma = [];
    for (let i = 0; i < data.length; i++) {
      if (i < period - 1) {
        ma.push(null);
      } else {
        let window = data.slice(i - period + 1, i + 1).map(d => d.price);
        let avg = window.reduce((sum, val) => sum + val, 0) / period;
        ma.push(avg);
      }
    }
    return ma;
  }
  
  // Extract date and price arrays
  let dates = data.map(d => d.date);
  let prices = data.map(d => d.price);
  
  // Calculate 5, 8, 13-day MAs
  let ma5 = calculateMA(data, 5);
  let ma8 = calculateMA(data, 8);
  let ma13 = calculateMA(data, 13);
  
  // Plotly chart setup
  let traces = [
    {
      x: dates,
      y: prices,
      name: 'JPY/USD Price',
      mode: 'lines+markers',
      line: { color: 'black' }
    },
    {
      x: dates,
      y: ma5,
      name: '5-Day MA',
      mode: 'lines',
      line: { color: 'blue' }
    },
    {
      x: dates,
      y: ma8,
      name: '8-Day MA',
      mode: 'lines',
      line: { color: 'orange' }
    },
    {
      x: dates,
      y: ma13,
      name: '13-Day MA',
      mode: 'lines',
      line: { color: 'red' }
    }
  ];
  
  let layout = {
    title: 'JPY/USD Moving Averages',
    xaxis: { title: 'Date' },
    yaxis: { title: 'Price' }
  };
  
  // Render chart
  Plotly.newPlot('chart', traces, layout);